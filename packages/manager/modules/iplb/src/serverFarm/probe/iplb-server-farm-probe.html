<form
    id="ServerFarmProbeForm"
    name="ServerFarmProbeForm"
    data-ng-submit="ServerFarmProbeForm.$valid && $ctrl.close()"
    novalidate
>
    <oui-modal
        data-primary-label="{{ ::'iplb_modal_ok' | translate }}"
        data-title="{{ ::'iplb_farm_edit_probe_title' | translate }}"
        data-secondary-action="$ctrl.dismiss()"
        data-secondary-label="{{ ::'iplb_cancel' | translate }}"
        data-on-dismiss="$ctrl.dismiss()"
        data-loading="IpLoadBalancerCipherChangeCtrl.isModalLoading()"
    >
        <oui-field
            data-label="{{ ::'iplb_farm_edit_probe_url' | translate }}"
            data-ng-if="$ctrl.farmProbe.type === 'http'"
        >
            <input
                class="oui-input"
                type="text"
                id="probe_url"
                name="probe_url"
                data-ng-model="$ctrl.farmProbe.url"
            />
        </oui-field>

        <oui-checkbox
            data-ng-if="$ctrl.farmProbe.type === 'http'"
            data-model="$ctrl.farmProbe.forceSsl"
        >
            <span data-translate="iplb_farm_edit_probe_forceSsl"></span>
        </oui-checkbox>

        <oui-field
            data-label="{{ ::'iplb_farm_edit_probe_port' | translate }}"
            data-ng-if="$ctrl.isFieldVisible('port')"
        >
            <oui-numeric
                id="probe_port"
                name="probe_port"
                data-model="$ctrl.farmProbe.port"
                data-min="1"
                data-max="65535"
            >
            </oui-numeric>
        </oui-field>

        <oui-field
            data-label="{{ ::'iplb_farm_edit_probe_method' | translate }}"
            data-ng-if="$ctrl.isFieldVisible('method')"
        >
            <oui-radio-toggle-group data-model="$ctrl.farmProbe.method">
                <oui-radio
                    data-text="{{ ::('iplb_farm_edit_probe_method_' + method) | translate }}"
                    data-value="method"
                    data-ng-repeat="method in $ctrl.methods track by $index"
                >
                </oui-radio>
            </oui-radio-toggle-group>
        </oui-field>

        <oui-field
            data-label="{{ ::'iplb_farm_edit_probe_match' | translate }}"
            data-ng-if="$ctrl.isFieldVisible('match')"
        >
            <oui-radio-toggle-group data-model="$ctrl.farmProbe.match">
                <oui-radio
                    data-text="{{ ::('iplb_farm_edit_probe_match_' + match) | translate }}"
                    data-value="match"
                    data-ng-repeat="match in $ctrl.getMatches() track by $index"
                    data-ng-if="!($ctrl.farmProbe.type !== 'http' && match === 'status')"
                >
                </oui-radio>
            </oui-radio-toggle-group>
        </oui-field>

        <oui-field
            data-label="{{ ::'iplb_farm_edit_probe_pattern' | translate }}"
            data-ng-if="$ctrl.isFieldVisible('pattern')"
        >
            <input
                class="oui-input"
                type="text"
                id="probe_pattern"
                name="probe_pattern"
                data-ng-model="$ctrl.farmProbe.pattern"
            />
        </oui-field>

        <oui-field
            data-label="{{ ::'iplb_farm_edit_probe_interval' | translate }}"
        >
            <oui-numeric
                id="probe_interval"
                name="probe_interval"
                data-min="30"
                data-model="$ctrl.farmProbe.interval"
            >
            </oui-numeric>
        </oui-field>

        <oui-field data-ng-if="$ctrl.isFieldVisible('negate')">
            <oui-checkbox
                data-text="{{ ::'iplb_farm_edit_probe_negate' | translate }}"
                name="negate"
                data-model="$ctrl.farmProbe.negate"
            >
            </oui-checkbox>
        </oui-field>
    </oui-modal>
</form>
