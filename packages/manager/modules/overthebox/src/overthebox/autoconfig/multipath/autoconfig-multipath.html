<div>
    <oui-message data-ng-if="$ctrl.successMessage" type="success"
        aria-close-button-label="{{:: 'overTheBox_autoconfig_close' | translate}}" on-dismiss="$ctrl.onDismiss()"
        dismissable>
        <span data-ng-bind="$ctrl.successMessage"></span>
    </oui-message>
    <oui-message data-ng-if="$ctrl.errorMessage" type="error"
        aria-close-button-label="{{:: 'overTheBox_autoconfig_close' | translate}}" on-dismiss="$ctrl.onDismiss()"
        dismissable>
        <span data-ng-bind="$ctrl.errorMessage"></span>
    </oui-message>
    <div class="oui-box oui-box_light">
        <h4 class="oui-box__heading" data-translate="overTheBox_autoconfig_interface_subtitle"></h4>

        <div data-ng-if="$ctrl.interfaces.length === 0" class="mb-2">
            <em data-translate="overTheBox_autoconfig_no_values"></em>
        </div>

        <div data-ng-if="$ctrl.showAddInterface">
            <form novalidate name="formInterface">
                <div class="oui-input-group oui-input-group_inline d-flex">
                    <oui-field label="{{:: 'overTheBox_autoconfig_interface_ifname' | translate}} *">
                        <input class="oui-input" name="ifname" required ng-model="$ctrl.interface.ifname">
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_name' | translate}} *">
                        <input class="oui-input" name="interfaceName" required ng-model="$ctrl.interface.interfaceName">
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_priority' | translate}} *">
                        <input class="oui-input" name="priority" type="number" required
                            ng-model="$ctrl.interface.priority">
                    </oui-field>
                </div>
                <div class="oui-input-group oui-input-group_inline d-flex">
                    <oui-field label="{{:: 'overTheBox_autoconfig_gateway' | translate}}">
                        <input class="oui-input" name="gateway" ng-model="$ctrl.interface.gateway">
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_ip_address' | translate}}">
                        <input class="oui-input" name="ipAddr" ng-model="$ctrl.interface.ipAddr">
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_ipv6' | translate}}">
                        <input class="oui-input" name="isIpv6" type="checkbox" ng-model="$ctrl.interface.isIPv6">
                    </oui-field>
                </div>
                <div class="oui-input-group oui-input-group_inline d-flex">
                    <oui-field label="{{:: 'overTheBox_autoconfig_mtu' | translate}}">
                        <input class="oui-input" name="mtu" type="number" ng-model="$ctrl.interface.mtu">
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_netmask' | translate}}">
                        <input class="oui-input" name="netmask" ng-model="$ctrl.interface.netmask">
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_protocol' | translate}}">
                        <input class="oui-input" name="protocol" ng-model="$ctrl.interface.protocol">
                    </oui-field>
                </div>
                <div class="oui-input-group oui-input-group_inline d-flex">
                    <oui-field label="{{:: 'overTheBox_autoconfig_interface_routing_table' | translate}}">
                        <input class="oui-input" name="routingTable" ng-model="$ctrl.interface.routingTable">
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_type' | translate}}">
                        <input class="oui-input" name="type" ng-model="$ctrl.interface.type">
                    </oui-field>
                    <oui-button class="ml-2 mb-2" data-variant="primary" data-type="submit"
                        data-on-click="$ctrl.createInterface()">
                        <span data-translate="overTheBox_autoconfig_submit"></span>
                    </oui-button>
                    <oui-button class="ml-2 mb-2" data-variant="primary" data-on-click="$ctrl.cancelCreateInterface()">
                        <span data-translate="overTheBox_autoconfig_cancel"></span>
                    </oui-button>
                </div>
            </form>
        </div>

        <oui-button data-variant="primary" data-on-click="$ctrl.addInterface()" class="ml-2 mb-2 d-flex justify-content-center" data-ng-if="$ctrl.displayAddInterfaceButton">
            <span data-translate="overTheBox_autoconfig_interface_add"></span>
        </oui-button>

        <oui-datagrid page-size="5" rows="$ctrl.interfaces" data-ng-if="$ctr.interfaces.length > 0">
            <oui-datagrid-column title="'overTheBox_autoconfig_interface_ifname' | translate" property="data.ifname">
            </oui-datagrid-column>
            <oui-datagrid-column title="'overTheBox_autoconfig_interface_name' | translate" property="data.interfaceName">
            </oui-datagrid-column>
            <oui-datagrid-column title="'overTheBox_autoconfig_priority' | translate" property="priority">
            </oui-datagrid-column>
            <oui-datagrid-column>
                <oui-button variant="primary" size="s" on-click="$ctrl.removeInterface($row)">
                    <span class="oui-icon oui-icon-trash"></span>
                </oui-button>
            </oui-datagrid-column>
            <oui-datagrid-row-detail>
                <div class="oui-input-group oui-input-group_inline d-flex">
                    <oui-field label="{{:: 'overTheBox_autoconfig_gateway' | translate}}">
                        <span data-translate="overTheBox_autoconfig_value_not_defined" data-ng-if="!$row.data.gateway"></span>
                        <span data-ng-bind="$row.data.gateway" data-ng-if="$row.data.gateway"></span>
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_ip_address' | translate}}">
                        <span data-translate="overTheBox_autoconfig_value_not_defined" data-ng-if="!$row.data.ipAddr"></span>
                        <span data-ng-bind="$row.data.isIPv6" data-ng-if="$row.data.isIPv6"></span>
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_ipv6' | translate}}">
                        <span data-ng-bind="$row.data.isIPv6" data-ng-if="$row.data.isIPv6"></span>
                    </oui-field>
                    <oui-field label="{{:: 'overTheBox_autoconfig_mtu' | translate}}">
                        <span data-translate="overTheBox_autoconfig_value_not_defined" data-ng-if="!$row.data.mtu"></span>
                        <span data-ng-bind="$row.data.mtu" data-ng-if="$row.data.mtu"></span>
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_netmask' | translate}}">
                        <span data-translate="overTheBox_autoconfig_value_not_defined" data-ng-if="!$row.data.netmask"></span>
                        <span data-ng-bind="$row.data.netmask" data-ng-if="$row.data.netmask"></span>
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_protocol' | translate}}">
                        <span data-translate="overTheBox_autoconfig_value_not_defined" data-ng-if="!$row.data.protocol"></span>
                        <span data-ng-bind="$row.data.protocol" data-ng-if="$row.data.protocol"></span>
                    </oui-field>
                    <oui-field label="{{:: 'overTheBox_autoconfig_interface_routing_table' | translate}}">
                        <span data-translate="overTheBox_autoconfig_value_not_defined" data-ng-if="!$row.data.routingTable"></span>
                        <span data-ng-bind="$row.data.routingTable" data-ng-if="$row.data.routingTable"></span>
                    </oui-field>
                    <oui-field class="ml-2" label="{{:: 'overTheBox_autoconfig_interface_type' | translate}}">
                        <span data-translate="overTheBox_autoconfig_value_not_defined" data-ng-if="!$row.data.type"></span>
                        <span data-ng-bind="$row.data.type" data-ng-if="$row.data.type"></span>
                    </oui-field>
                </div>
            </oui-datagrid-row-detail>
        </oui-datagrid>
    </div>
</div>
